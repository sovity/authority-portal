<div
  class="bg-gray-200 py-1 lg:py-10 flex flex-col items-center justify-center w-full">
  <form
    class="flex flex-col bg-white shadow-lg w-full md:w-4/5 xl:w-3/5 2xl:w-1/2 p-4 lg:p-10 md:rounded-3xl"
    [formGroup]="form.group"
    (ngSubmit)="submit()">
    <app-env-banner class="w-full"></app-env-banner>

    <p
      class="inline-block p-3 m-6 text-2xl font-semibold text-center tracking-wider text-teal-900 uppercase bg-teal-accent-400">
      Register new Central Component
    </p>

    <app-text-input
      label="Name"
      ctrlId="formRegCCName"
      placeholder="e.g. Broker"
      [ctrl]="form.group.controls.name"></app-text-input>

    <app-text-input
      label="Component Location"
      ctrlId="formRegCCLocation"
      placeholder="e.g. DE, UK, FR etc."
      [ctrl]="form.group.controls.location"></app-text-input>

    <app-text-input
      label="Landing Page URL"
      ctrlId="formRegCCHomepageUrl"
      placeholder="e.g. https://my-broker.com"
      invalidPatternMessage="URL is not valid. Example value: https://my-broker.com"
      [ctrl]="form.group.controls.homepageUrl"></app-text-input>

    <app-text-input
      label="Endpoint URL"
      ctrlId="formRegCCHomepageUrl"
      placeholder="e.g. https://my-broker.com/backend/api/dsp"
      invalidPatternMessage="URL is not valid. Example value: https://my-broker.com/backend/api/dsp"
      [ctrl]="form.group.controls.endpointUrl"></app-text-input>

    <app-certificate-input
      class="w-full"
      [ctrl]="form.group.controls.certificate">
    </app-certificate-input>

    <app-certificate-generator-bar
      [certificateCtrl]="form.group.controls.certificate"
      [locationCtrl]="form.group.controls.location"
      [urlCtrl]="
        form.group.controls.endpointUrl
      "></app-certificate-generator-bar>

    <div class="border-gray-400 inline-flex mt-4 justify-evenly w-full">
      <a
        class="select-none cursor-pointer bg-red-200 rounded-md text-center active:bg-red-300 hover:bg-red-300 hover:text-black my-auto w-2/5 p-3 focus:text-black focus:bg-red-300 disabled:bg-slate-500"
        routerLink="/operator/central-components"
        [class.hidden]="state.state === 'success'">
        Cancel
      </a>
      <button
        class="btn-green my-auto w-2/5 p-3"
        type="submit"
        [class.hidden]="state.state === 'success'"
        [disabled]="!form.group.valid || state.state === 'submitting'">
        Register
      </button>
    </div>
  </form>
</div>
