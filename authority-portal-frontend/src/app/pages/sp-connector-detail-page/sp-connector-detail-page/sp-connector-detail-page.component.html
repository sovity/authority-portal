<app-loading-element
  *ngIf="state.connector.isLoading"
  class="flex justify-center"></app-loading-element>

<app-error-element
  *ngIf="state.connector.isError"
  errorMessage="connector"></app-error-element>

<ng-container *ngIf="state.connector.isReady">
  <div class="flex relative">
    <!-- Title bar -->
    <app-title-bar
      class="flex-1"
      [titleBarConfig]="titleBarConfig"></app-title-bar>
    <!-- Title bar -->
  </div>
  <div class="px-8 mt-8">
    <h3 class="text-base font-semibold text-black">Connector Details</h3>
    <div class="mt-6">
      <dl>
        <div class="details-row">
          <dt
            class="px-2 text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >cloud</mat-icon
            >
            Status:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ getConnectorStatusText(state.connector.data.status) }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >label</mat-icon
            >
            Connector ID:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.connectorId }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >apartment</mat-icon
            >Organization Name:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.orgName }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >label</mat-icon
            >
            Organization's MDS ID:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.orgMdsId }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >apartment</mat-icon
            >Hosting organization:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.hostName }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >folder</mat-icon
            >Environment:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.environment.title }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >power</mat-icon
            >Connector Name:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.connectorName }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >location_on</mat-icon
            >Location:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.location }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >link</mat-icon
            >Frontend URL:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.frontendUrl }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >link</mat-icon
            >Connector Endpoint:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.endpointUrl }}
          </dd>
        </div>
        <div class="details-row">
          <dt
            class="text-sm font-medium leading-6 text-gray-500 flex items-center gap-2">
            <mat-icon class="material-icons-outlined text-gray-500"
              >link</mat-icon
            >Management API URL:
          </dt>
          <dd
            class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0">
            {{ state.connector.data.managementUrl }}
          </dd>
        </div>
      </dl>
    </div>
  </div>
</ng-container>

<!-- Modal -->
<div *ngIf="showModal" class="fixed z-50 inset-0 overflow-y-auto">
  <div class="flex items-center justify-center min-h-screen">
    <div
      class="fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"></div>
    <div
      class="bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full">
      <div class="px-4 py-2">
        <h3 class="text-base font-semibold text-black">Delete Connector</h3>
      </div>
      <div class="px-4 py-3">
        <p class="text-gray-700">
          Are you sure you want to delete this connector?
        </p>
      </div>
      <div class="px-4 py-3 flex justify-end gap-2">
        <button
          class="px-4 py-2 rounded-md hover:bg-gray-400 hover:text-white"
          (click)="cancelDeleteConnector()">
          Cancel
        </button>
        <button
          class="px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500"
          (click)="confirmDeleteConnector()">
          Delete
        </button>
      </div>
    </div>
  </div>
</div>
